{% extends "base.html" %}
{% block title %}My Requests{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold text-red-600 mb-6">My Requests</h1>

<div class="overflow-x-auto bg-white rounded-lg shadow border border-gray-200">
  <table class="w-full text-sm">
    <thead class="bg-gray-100 text-gray-700 uppercase text-xs">
      <tr>
        <th class="text-left px-4 py-2">Created</th>
        <th class="text-left px-4 py-2">Type</th>
        <th class="text-left px-4 py-2">Qty</th>
        <th class="text-left px-4 py-2">Urgency</th>
        <th class="text-left px-4 py-2">Status</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      {% for r in items %}
      <tr class="hover:bg-gray-50 transition">
        <td class="px-4 py-2">{{ r.created_at|date:"Y-m-d H:i" }}</td>
        <td class="px-4 py-2">{{ r.requested_type }}</td>
        <td class="px-4 py-2">{{ r.quantity_units }}</td>
        <td class="px-4 py-2 font-medium {% if r.urgency == 'EMERGENCY' %}text-red-600{% else %}text-gray-700{% endif %}">
          {{ r.urgency }}
        </td>
        <td class="px-4 py-2">
          <span class="px-2 py-1 rounded text-xs font-semibold
            {% if r.status == 'PENDING' %} bg-yellow-100 text-yellow-700
            {% elif r.status == 'APPROVED' %} bg-green-100 text-green-700
            {% elif r.status == 'REJECTED' %} bg-red-100 text-red-700
            {% else %} bg-gray-100 text-gray-600 {% endif %}">
            {{ r.status }}
          </span>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="px-4 py-6 text-center text-gray-500">
          No requests yet.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
