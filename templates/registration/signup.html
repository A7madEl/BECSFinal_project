{% extends "base.html" %}
{% block title %}Sign up{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-red-600 mb-6 text-center">Create Your Account</h1>

<form method="post" class="space-y-6 max-w-2xl mx-auto bg-white p-6 rounded-lg shadow">
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <!-- Username -->
    <div>
      <label class="block text-sm mb-1 font-medium text-gray-700">Username</label>
      {{ form.username }}
      {{ form.username.errors }}
    </div>

    <!-- Email -->
    <div>
      <label class="block text-sm mb-1 font-medium text-gray-700">Email (optional)</label>
      {{ form.email }}
      {{ form.email.errors }}
    </div>

    <!-- Phone -->
    <div>
      <label class="block text-sm mb-1 font-medium text-gray-700">Phone (optional)</label>
      {{ form.phone }}
      {{ form.phone.errors }}
    </div>

    <!-- National ID -->
    <div>
      <label class="block text-sm mb-1 font-medium text-gray-700">National ID (optional)</label>
      {{ form.national_id }}
      {{ form.national_id.errors }}
    </div>

    <!-- Role -->
    <div>
      <label class="block text-sm mb-1 font-medium text-gray-700">Role</label>
      {{ form.role }}
      {{ form.role.errors }}
    </div>

    <!-- Password -->
    <div class="md:col-span-2">
      <label class="block text-sm mb-1 font-medium text-gray-700">Password</label>
      {{ form.password1 }}
      {{ form.password1.errors }}
    </div>

    <!-- Confirm Password -->
    <div class="md:col-span-2">
      <label class="block text-sm mb-1 font-medium text-gray-700">Confirm Password</label>
      {{ form.password2 }}
      {{ form.password2.errors }}
    </div>
  </div>

  <!-- Button -->
  <button type="submit"
    class="w-full py-2 bg-red-600 text-white font-semibold rounded-lg
           hover:bg-red-700 hover:shadow-xl hover:scale-[1.03]
           focus:ring-2 focus:ring-red-500
           transition duration-300 ease-in-out">
    Sign up
  </button>
</form>

<p class="mt-6 text-sm text-center">
  Already have an account?
  <a class="text-red-600 font-semibold hover:underline" href="{% url 'login' %}">Log in</a>
</p>

<script>
  // Add Tailwind classes to Django auto-rendered inputs
  document.addEventListener("DOMContentLoaded", () => {
    const fields = document.querySelectorAll("input, select");
    fields.forEach(field => {
      field.classList.add(
        "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg",
        "transition", "duration-300", "ease-in-out",
        "focus:ring-2", "focus:ring-red-500", "focus:border-red-500",
        "hover:border-red-500", "hover:bg-red-50", "hover:shadow-lg", "hover:scale-[1.02]"
      );
    });
  });
</script>
{% endblock %}
